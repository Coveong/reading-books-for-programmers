# 컴퓨터 내부의 언어 체계

- 컴퓨터는 어떤 말을 사용할까



## 언어란 무엇인가



언어는 편의를 제공하기 위한 지름길이다.



## 문자 언어



언어의 틀은 이렇게 이루어져 있다.

- 기호가 들어갈 상자
- 상자에 들어갈 기호
- 상자의 순서



## 비트



자연어에서 상자를 문자(Character)라고 부르고 컴퓨터에서는 비트(Bit)라고 부른다.

비트는 2진법을 사용해 만들어졌고 적은 비용으로 편리하게 기호를 담을 수 있다고 알아 두면 좋다.



## 논리 연산

비트의 사용법은 예/아니오 같은 참/거짓으로 부른다.

자연어에서 비트를 사용해서 한 문장을 만드는 경우가 자주 있는데 이를 통해 새로운 비트를 만들어내는 동작을 **논리연산**이라고 한다.



### 불리언 대수

NOT : 논리적 반대.

AND : 둘이상의 비트에 작용. A, B비트가 있다고 할때 A도 참 B도 참일경우 참

OR : 둘이상의 비트에 작용. A ,B 비트가 있다고 할때 둘중하나만 참이여도 참

XOR : A , B 비트가 있다고 할때 둘다 참거짓 유무가 다르면 참

<img src="https://introcs.cs.princeton.edu/java/71boolean/images/truth-table.png" alt="Boolean Logic" style="zoom:33%;" />





### 드모르간의 법칙

![드 모르간(De-Morgan)의 법칙 : 네이버 블로그](https://mblogthumb-phinf.pstatic.net/20110419_83/asd7979_1303221626459dlnLQ_PNG/demorganjinri.png?type=w2)

ex) a AND b 라는 연산은 NOT(NOT a OR NOT b)와 같다라는 증명.



## 정수를 비트로 표현하는 방법

### 양의 정수 표현



<img src="https://velog.velcdn.com/images%2Fvdoring%2Fpost%2F397f3fa2-61e2-41ae-a0ca-78870ff63da8%2F4_5.png" alt="img" style="zoom:50%;" />

2진수에서 기장 오른쪽 : LSB

2진수에서 가장 왼쪽 : MSB

2진수에서 왼쪽비트를 변경하면 2진수에 값이 가장 크게 변하기 때문에 MSB(Most significant bit),오른쪽 비트를 변경하면 가장 작게 변하기 떄문에 LSB(Least significant bit)라고 한다.



### 2진수 덧셈

![image-20220418235751184](C:\Users\user.DESKTOP-MH5KDIR.000\AppData\Roaming\Typora\typora-user-images\image-20220418235751184.png)

이정도는 할거라 생각한다.

덧셈 결과가 우리가 사용할 비트의 개수로 표현할 수 있는 범위를 벗어나면 어떻게 해야 할까?

이런경우 오버플로가 발생한다.

나중에 보면 컴퓨터에는 조건코드 , 레지스터라는게 있어 이상한 정보를 담아둔다. 이런 정보 중에는 오버플로우 비트가 있고 이븥값을 보면 오버플로가 발생했는지 알수 있다.

### 음수 표현

#### 부호와 크기

음수와 양수를 구별하기 위해 흔히 부호를 사용하는데(+, -), 한 비트를 부호에 사용하고 나머지 비트를 수의 크기, 즉  0 부터의 거리를 표현하기위해 사용하는 이런 방법을 **부호와 크기** 표현법이라고 한다.

하지만 널리쓰이지 못하는데

1. 비트를 구성하려면 비용이 드는데 0을 표현하는 방법이 두가지라서 비용 낭비
2. XOR과 AND를 통한 계산 불가.

#### 1의 보수

양수의 모든 비트를 뒤집는 방법

문제

1. 0을 두가지 방식으로 표현한다.
2. 덧셈을 쉽게 할수 없다.( 순환올림을 해야함.)
   - 순환올림은 MSB쪽에서 올림이 발생하면 LSB로 올림전달을 하는것.

 순환올림을 처리하기 위한 하드웨어 추가, 비용문제로 사용하지 않는다.

![image-20220419001241198](C:\Users\user.DESKTOP-MH5KDIR.000\AppData\Roaming\Typora\typora-user-images\image-20220419001241198.png)

#### 2의 보수

부호가 있는 정수를 표현할떄 가장 널리 쓰이는 방법이다.

어떠 수의 비트를 뒤집고(각 비트의 NOT을 취하고) 1을 추가하면 음수를 얻을 수 있다. 이때 MSB에서 올림이 발생하면 이값은 버린다.



### 실수를 표현하는 방법

#### 고정소수점 표현법

2진수를 사용해 소수를 표현하기 위해 2진 소수점의 위치를 임의로 정하는 방법.

소수점의 위치가 고정이기 때문에 이런 방식을 고정소수점 표현법이라고 부른다.

| 정수부분 | 정수부분 |      | 분수부분 | 분수부분 | 값   |
| -------- | -------- | ---- | -------- | -------- | ---- |
| 0        | 0        | .    | 0        | 0        | 0    |
| 0        | 0        | .    | 0        | 1        | ¼    |
| 0        | 0        | .    | 1        | 0        | ½    |
| 3        | 0        | .    | 1        | 1        | ¾    |
| 0        | 1        | .    | 0        | 0        | 1    |
| 0        | 1        | .    | 0        | 1        | 1¼   |
| 0        | 1        | .    | 1        | 0        | 1½   |

...

쓸모있는 범위의 실숫값을  표현하기 위해 필요한 비트 개수가 너무 많기 때문에 범용 컴퓨터에서 이런 방식을 쓰는 경우는 드물다.

이방식은 메모리 비용이 많이 들기 때문에 다른방식을 써야 좋다.



#### 부동소수 표현법

과학적 표기법을 2진수에 적용한다.

과학적 표기법에서는 10진 소수점 왼쪽이 한 자리뿐인 소수에 10을 몇 번 거듭제곱한 값을 곱하는 방식으로 소수를 표현한다.ex) 0.0012 -> 1.2 x 10^-3

하지만 이방식은 부동소수점 2진수표를 한번 보면 단점을 알수 있는데

1. 4비트만 사용하지만 같은 비트를 표현하는 방식이 여러개인 경우도 있다.
2. 비트 패턴이 가능한 모든 수를 표현하지 못한다.



#### IEEE 부동소수점 수 표준

컴퓨터에서 계산을 수행할 때 실수를 표현하는 표준 방법

그리고 낭비되는 비트 조합을 최소화하고 반올림을 쉽게 하기 위한 여러 가지 트릭이 사용된다.

트릭 

1. 정규화 - 가수를 조정해서 맨앞에 0이 없게 만드는 것이다.
2. 가수의 맨 왼쪽 비트가 1이라는 사실을 알고 있으므로 이를 생략하는 것이다.

![단정도(single precision), 배정도(double precision)이란?](https://i.imgur.com/sRBfNiu.png)



### 2진 코드화한 10진수 시스템

BCD(binary-coded decimal)

4비트를 사용해 10진 숫자를 하나 표현하는 것이다.

하지만 2진수를 효율적으로 활용하지 못해 잘 사용하지 않는다.(앞에서 부터 보면 알지만 비트사용이 더 크기 때문이다.)



## 2진수를 다루는 쉬운 방법

#### 8진 표현법

2진수 비트들을 3개씩 그룹으로 묶는 아이디어이다.

#### 16진 표현법

2진수 비트를 4개씩 그룹으로 묶어 0~F로 변환한다.

#### 프로그래밍 언어의 진법 표기법

- 0으로 시작하는 숫자는 8진 숫자다.
- 1부터 9사이의 숫자로 시작하는 숫자는 10진수다.
- 0x가 앞에 붙은 숫자는 16진수다.



## 비트 그룹의 이름

8비트의 덩어리들이 기본단위로 쓰이며 이를 **바이트**라고 부른다.

비트의 묶음을 부르는 이름도 있다.

| 이름                   | 비트 |
| ---------------------- | ---- |
| 니블(nibble)           | 4    |
| 바이트(byte)           | 8    |
| 하프 워드(half word)   | 16   |
| 워드(word)             | 32   |
| 더블 워드(double word) | 64   |



표준용어

![img](https://velog.velcdn.com/images%2Fkkambo93%2Fpost%2Fa4f81c75-ab75-441a-9771-23a5ed78dd1d%2F%EB%B9%84%ED%8A%B8%EB%8B%A8%EC%9C%84.png)



## 텍스트 표현

#### 아스키 코드

텍스트를 표현하는 방법

정보교환을 위한 미국 표준코드(ASCII, American Standard Code for Information Interchange)

아스키 코드에는 장치를 제어하기 위해 쓰이는 **제어 문자**라는 것도 있다. ex) ACK, NAK



#### 다른 표준의 진화

컴퓨터의 보금에 따라 언어지원을 늘려야 했고, 각 나라의 표준이 도입되기 시작으로 **ISO** 가 탄생

 8비트의 이후 유니코드라는 새 표준이 생기고 15비트 코드를 부여



#### 유니코드 변환 형식 8비트

16비트가 있지만 8비트가 더 저렴하기 떄문에 8비트로 표현을 많이 하는데, 유니코드는 문자 코드에 따라 인코딩을 사용해 문제를 해결한다.

> 인코딩이란 다른 비트 패턴을 표현하기 위해 사용하는 비트 패턴

UTF-8의 인코딩 방법이 하위 호환성과 효율성이 좋아 널리쓰인다.

- 인코딩 방식

![UTF-8 (r160 판) - 나무위키](https://w.namu.la/s/05fd0ac2c91bf1b6e139e685f64e00326e5cede76c218060619f47dac2b1d77f127a97637d083e784dc447952a1b51393abd03c28e7cf009b27d373e3fa6326103fa5ebc038ba1d70cec45c24c7804d256ba7e0df78dcb98e82104d013863f5c)

출처 : 나무위키 utf-8



## 문자를 사용한 수 표현

#### 출력 가능하게 변경한 인코딩

쿼티드 프린터블 인코딩(QP인코딩)이라고 하는데 8비트 데이터를 7비트 데이터만 지원하는 통신 경로를 통해 송수신하기 위한 방법이다.

= 다음 바이트의 각 니블을 표현하는 16진수 숫자 2개를 추가해 8비트를 표현한다.



#### 베이스 64 인코딩

 QR인코딩이 비효율적이기 때문에  효율을 중시하는 옛날에 사용하기 위해 있는 방법

3바이트 데이터를 4문자로 표현한다.

방식 :  3바이트 데이터의 24비트를 네가지 6비트 덩어리로 나누고, 각 덩어리의 6비트값에 출력 가능한 문자를 할당해 표현한다.

데이터길이가 3바이트의 배수가 아니면 패딩문자를 도입해 해결한다. ( 2바이트가 남으면 =를 , 1바이트가 남으면 끝에 ==를 붙인다.)



#### URL 인코딩

url이라는 문맥에서 몇몇 문자가 특별한 의미를 지니기 때문에 리터럴 표현이 필요하다.(literal: 정확한/ 말그대로 단어대로의 의미로 쓴다라는 것 )

%코딩으로 부르는데 %뒤에 어떤 문자의 16진 표현을 덧붙이는 방식으로 사용한다.



## 색을 표현하는 방법

모눈의 격자에 찍는 점을 그림원소라고 한다.

그림원소 = 픽셀

RGB  = 컴퓨터는 빨간 녹색 파란색을 섞어 색을 만드는데 이 표현법

- RGB 컬러큐브 

![RGB 색 공간 - Win32 apps | Microsoft Docs](https://docs.microsoft.com/ko-kr/windows/win32/wcs/images/rgbclrs1.png)

출처: MsDocs



#### 색인코딩

url 인코딩과 비슷한 방식으로 코딩을 하며 16진 트리플렛으로 표현한다.

#rrggbb처럼 표현하며 각각 8비트 색값을 두 자리 문자로 된 16진 표기로 바꾼다.

