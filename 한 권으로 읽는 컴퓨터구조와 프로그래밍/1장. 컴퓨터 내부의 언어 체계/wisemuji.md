# 컴퓨터 내부의 언어 체계

컴퓨터는 어떤 말을 사용할까?

## 언어의 구조

문자 언어의 틀을 이루는 건 다음 세 가지 구성요소이다. 컴퓨터 언어에서도 마찬가지다.
* 기호가 들어갈 상자
* 상자가 들어갈 기호
* 상자의 순서

## 비트

상자는 자연어에서는 character, 컴퓨터에서는 bit라고 불린다. 비트는 3진법을 사용한다.

## 논리 연산

다른 비트들이 표현하는 내용으로부터 새로운 비트를 만들어내는 동작을 논리 연산이라고 한다.
> 예: 밖에 비가 내리고 있거나 춥다면 코트를 입어라.

### 불리언 대수

* NOT: 논리적 반대.
* AND: (둘 이상의 비트에 작용함) 2비트 연산의 경우 두 비트 모두가 참인 경우에만 결과가 참이다.
* OR: (둘 이상의 비트에 작용함) 2비트 연산의 경우 하나의 비트만 참이면 결과가 참이다.
* XOR: (둘 이상의 비트에 작용함) 첫 번째 비트와 두 번째 비트가 다른 값인 경우에만 참이다.

### 드모르간의 법칙

> a AND b라는 연산은 NOT(NOT a OR NOT b)와 같다

## 정수를 비트로 표현하는 방법

### 양의 정수 표현

2진수에서 가장 오른쪽의 비트를 가장 작은 유효 비트(Least Significant Bit)라고 부르고 가장 왼쪽의 비트를 가장 큰 유효 비트(Most Significant Bit)라고 부른다.

![image](https://user-images.githubusercontent.com/32327475/163718476-0bc0776a-256d-481c-974d-f290b4fd3545.png)

### 2진수 덧셈

10진수와 마찬가지로 2진수에서도 각 비트를 LSB에서 MSB 쪽으로 더하며 결과가 1보다 크면 1을 다음 자리(왼쪽)으로 올린다.

![image](https://user-images.githubusercontent.com/32327475/163718642-6dd20181-ad95-46dc-a533-2b1a009b3f77.png)

또, MSB에서 올림이 발생한 경우 오버플로우가 발생한다. MSB 위쪽에서 1을 빌려오는 경우는 언더플로라고 부른다.

### 음수 표현

**[부호와 크기(sign and magnitude) 표현법]**

음수와 양수를 구별하기 위해 흔히 부호(sign)를 사용한다. (양부호+, 음부호-) 

이는 비트 하나를 써서(MSB) 표현할 수 있다. **0이면 양수, 1이면 음수**

부호와 크기 표현법이 널리 쓰이지 못하는 이유
1. 비트들을 구상하려면 비용이 드는데 0을 표현하는 방법이 두 가지라서 비용이 낭비됨
2. XOR과 AND를 통한 덧셈 계산을 사용할 수 없음
3. 덧셈 계산이 가능하긴 하지만 복잡한 방법을 사용해야 함

**[1의 보수]**

양수의 모든 비트를 뒤집는 방법인 1의 보수 표현법을 사용할 수 있다.

1의 보수가 널리 쓰이지 못하는 이유
1. 0을 두 가지 방식으로 표현한다는 문제가 여전히 존재한다.
2. 순환 올림(MSB 쪽에서 올림이 발생한 경우에는 LSB로 올림을 전달해야 함)을 해야 해서 쉽게 덧셈 계산을 사용할 수 없음

**[2의 보수]**

위의 두 방법을 해결한 방법.

양수의 모든 비트를 뒤집고 1을 더하면 2의 보수가 되는데 이 방법으로 음수를 얻을 수 있다.(MSB에서 올림이 발생하면 이값은 버림)

2의 보수 표현법에서는 0을 표현하는 방법이 하나뿐이다.

## 실수를 표현하는 방법

### 고정소수점 표현법

2진 소수점의 위치를 임의로 정하는 방법.

쓸모 있는 범위의 실숫값을 표현하기 위해 필요한 비트 개수가 너무 많기 때문에 범용 컴퓨터에서 이런 방식을 사용하는 경우는 드물다.

### 부동소수점 표현법

실수를 표현할 때 소수점의 위치를 고정하지 않고 그 위치를 나타내는 수를 따로 적어서 표현한다.

지수와 가수를 분리함으로써 수를 표현할 때 필요한 0을 모두 저장하지 않고도 큰 수나 작은 수를 표현할 수 있다.

### IEEE 부동소수점 수 표준

낭비되는 비트 조합을 최소화하고 반올림을 쉽게 하기 위한 여러 가지 트릭(기능)을 정의한 표준. - IEEE 754

몇 가지 트릭
* 정규화: 가수를 조정해서 맨 앞에 0이 없게 만드는 것
* (디지털 이큅먼트 사에서 고안한 것) 가수의 맨 왼쪽 비트가 1이라는 사실을 알고 있으므로 이를 생략하는 것(가수에 1비트를 더 사용할 수 있다)

IEEE 754에서 편한 점은 0으로 나눴을 때 생길 수 있는 양의 무한대나 음의 무한대를 표현하는 비트 패턴 등 여러 가지 특별한 비트 패턴을 제공한다는 점이다.
(NaN을 표현하는 값도 존재함)

## 2진 코드화한 10진수 시스템(BCD)

BCD는 4비트를 사용해 10진 숫자를 하나 표현한다. (일반적인 방식은 아님)

예를 들어 12를 2진수로 표현하면 1100이지만 BCD로 표현하면 0001 0010이다. (0001은 십의 자리의 1, 0010은 일의 자리의 2를 표현)

## 2진수를 다루는 쉬운 방법

### 8진 표현법

2진수 비트들을 3개씩 그룹으로 묶는 아이디어 (과거에는 널리 쓰임)

### 16진 표현법

2진수 비트들을 4개씩 그룹으로 묶는 아이디어 (최근에 널리 쓰임) 요즘은 컴퓨터 내부가 8비트의 배수를 사용해 만들어지기 때문. 

8의 배수는 4(16진수 한 자리의 비트 수)로는 균일하게 나눠지지만 3(8진수 한 자리의 비트 수)로는 균일하게 나눠지지 않는다.

## 비트 그룹의 이름

세계적으로 8비트 덩어리가 기본 단위로 널리 쓰이고 있다. 이를 **바이트**라고 부른다.

|이름|비트 개수|
|---|---|
|니블(nibble)|4|
|바이트(byte)|8|
|하프 워드(harf word)|16|
|워드(word)|64|

