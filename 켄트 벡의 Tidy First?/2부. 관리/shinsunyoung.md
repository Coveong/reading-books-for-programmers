# 2장.  관리

# 16. 코드 정리 구분

- 코드를 정리하는건 별도의 PR로 만들어라
- PR당 코드 정리는 작게 해라

# 17. 연쇄적인 정리

- 아주 작은 단계로 나누어 코드를 정리해봐라
    - 보호 구문
    - 안 쓰는 코드 제거
    - 같은 코드, 다른 코드를 일치시켜 대칭으로 맞추기
    - 새로운 인터페이스로 기존 루틴 부르기
    - 읽는 순서 정리하기
    - 응집도를 높이는 배치 만들기
    - 설명하는 변수로 만들기
    - 설명하는 상수로 만들기
    - 매개변수를 명확하게 드러내기
    - 비슷한 코드끼리 묶고, 설명하는 주석 붙이기
    - 도우미 추출하기
    - 불필요한 주석 지우기

# 18. 코드 정리의 일괄 처리량

- 일괄 처리하는 코드가 많을수록
    - 다른 사람의 작업과 충돌날 가능성이 커짐
    - 우연히 동작 변경을 할 수 있음
    - 예상치 못한 추가 비용이 발생함
- 많은 조직에서 하나의 변경 사항을 검토하고 배포하는 데 드는 고정 비용은 상당히 많음
- 코드 정리 비용을 줄이고자 한다면 코드 정리 개수를 늘려서 동작 변경에 소용되는 비용을 줄여라

# 19. 리듬

- 동작 변경은 코드 안에 뭉쳐서 나타나는 경향이 있음

# 20. 얽힘 풀기

- 코드를 정리하다가 변경할 동작이 얽혀버린 경우
    - 진행 중인 작업을 버리고, 코드 정리를 선행하는 순서로 다시 시작하라

# 21. 코드 정리 시점

- 코드 정리 하지 말아야 할 때
    - 앞으로 다시는 코드를 변경하지 않을 때
    - 설계를 개선하더라도 배울 것이 없을 때
- 나중으로 정리를 미뤄야 할 때
    - 정리할 코드 분량이 많은데, 보상이 바로 보이지 않을 때
    - 코드 정리에 대한 보상이 잠재적일 때
    - 작은 묶음으로 여러 번에 나눠서 코드 정리를 할 수 있을 때
- 동작 변경 후에 정리해야 할 때
    - 다음 코드 정리까지 기다릴수록 비용이 불어날 때
    - 코드 정리를 하지 않으면 일을 끝냈다는 느낌이 들지 않을 때
- 코드 정리 후에 동작 변경해야 할 때
    - 코드 정리를 했을 때, 코드 이해가 쉬워지거나 동작 변경이 쉬워지는 즉각적인 효과를 얻을 수 있을 때
    - 어떤 코드를 어떻게 정리해야 하는지 알고 있을 때