# 17장. 경계: 선 긋기

- 경계?
    - 소프트웨어를 서로 분리하고, 경계 한 편에 있는 요소가 반대편에 있는 요소를 알지 못하도록 막는 것
    - 핵심적인 업무 로직을 오염시키지 못하게 만들려는 목적으로 쓰임
- 결합
    - 인적 자원의 효율을 떨어뜨리는 요인
    - 특히 너무 일찍 내려진 결정에 따른 결합

좋은 시스템 아키텍처란 ...

유스케이스와 관련이 없는 결정(ex. 프레임워크, 데이터베이스, 유틸리티 라이브러리)에 의존하지 않고, 이러한 결정을 가능한 한 최후의 순간에 내릴 수 있게 하며, 결정에 따른 영향이 크지 않은 것

# P회사에 대한 슬픈 이야기

모놀리틱 데스크톱 어플리케이션으로 대박 난 P회사

웹이 유행하게 됨

P사의 고객들은 웹 버전을 강력하게 요구

웹 프로그래머들을 고용

프로그래머들은 모든 도메인 객체가 세 가지 인스턴스(GUI, 미들웨어, DB)를 가져야 한다는 이른 결정을 함

간단한 기능을 구현할 때에도 변경이 많이 일어남

# FitNesse

- 웹 서버를 직접 작성하기로 결정
    - 기본 뼈대만 갖춘 웹 서버는 단순한 단일 소프트웨어이기에 구현이 간단할 뿐만 아니라, 어떤 웹 프레임워크를 사용할지에 대한 결정을 훨씬 나중으로 연기할 수 있도록 해주었다.
- 데이터베이스에 고민하지 말기로 결정
    - 모든 데이터 접근 영역과 데이터 저장소 영역 사이에 인터페이스를 추가하는 간단한 설계 방식을 사용했다.

경계선을 긋는 행위는 결정을 늦추고 연기하는 데 도움이 된다. 

→ 시간 절약, 골치 안 썩임

# 어떻게 선을 그을까? 그리고 언제 그을까?

관련이 있는 것과 없는 것 사이에 선을 긋는다.

- GUI / 업무 규칙
- DB / GUI
- DB / 업무 규칙

# 입력과 출력은?

입력과 출력은 중요하지 않다.

# 플러그인 아키텍처

소프트웨어 개발 기술의 역사는 플러그인을 손쉽게 생성하여, 확장 가능하며 유지보수가 쉬운 시스템 아키텍처를 확립할 수 있게 만드는 방법에 대한 이야기다.

# 결론

경계선을 그리는 방법

1. 시스템을 컴포넌트 단위로 분할
    - 핵심 업무 규칙
    - 나머지 (플러그인)
        - 핵심 업무와는 직접적인 관련이 없지만, 필수 기능을 포함
2. 컴포넌트 사이의 화살표가 특정 방향, 즉 핵심 업무를 향하도록 컴포넌트 소스를 배치
    - 의존성 화살표는 저수준 세부사항 > 고수준 추상화를 향하도록 배치