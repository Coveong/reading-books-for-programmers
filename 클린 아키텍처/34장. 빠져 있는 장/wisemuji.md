# 빠져 있는 장

클린 아키텍처와 별개로 설계나 코드 조직화와 관련된 몇 가지 접근법을 살펴보자.

## 계층 기반 패키지

계층 기반 패키지는 우리가 흔히 볼 수 있는 코드가 하는 일에 기반해서 코드를 분할하는 수평 계층형 아키텍처다.
![image](https://user-images.githubusercontent.com/32327475/124398369-564de600-dd50-11eb-9fa3-b53100546ce0.png)


엄청난 복잡함을 겪지 않고도 무언가를 작동시켜주는 빠른 방법이나,

문제점:
* 소프트웨어가 커지고 복잡해지기 시작하면 큰 그릇 세 개 만으로는 모든 코드를 담기엔 부족하다는 사실을 깨닫고 더 잘게 모듀로하할지를 고민하게 될 것이다.
* 업무 도메인에 대해 아무것도 말해주지 않는다.

## 기능 기반 패키지 

기능 기반 패키지는 코드를 조직화하는 또다른 선택지다. 

계층 기반 패키지를 리팩터링한 형태지만 이제 코드의 상위 수준 구조가 업무 도메인에 대해 무언가를 알려주게 된다.

## 포트와 어댑터

코드 베이스를 내부(도메인)과 외부(인프라)로 나눌 수도 있다.

## 컴포넌트 기반 패키지

(저자가 제안하는 방법)
![image](https://user-images.githubusercontent.com/32327475/124398488-e855ee80-dd50-11eb-96c6-1dacf540eb41.png)

의존성 화살표는 여전히 아래를 향하지만 이제 몇몇 유스케이스에서는 OrdersController가 OrdersService를 우회하고 있다.
