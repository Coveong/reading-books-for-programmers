# 32장 프레임워크는 세부사항이다

프레임워크는 무료이며 강력합니다. 그래서 상당한 인기를 끌고 있습니다.

하지만 프레임워크는 아키텍처가 될 수 없습니다.

# 프레임워크 제작자

프레임워크 제작자는 당신을 아맂 못하며, 당신이 플어야 할 문제도 알지 못합니다.

즉, 풀어야할 특별한 관심사에 염두에 둣지 않습니다.

# 혼인 관계의 비대칭성

개발자와 프레임워크 제작자 사이의 관계는 비대칭적입니다.

개발자는 프레임워크를 위해 큰 헌신을 하지만 반대로 프레임워크 제작자는 개발자를 위해 아무런 헌신도 하지 않습니다.

프레임워크 제작자는 프레임워크에 대해 장기간에 걸친 막대한 헌신을 요구합니다. 그럼에도 프레임워크 제작자는 그에 상응하는 헌신을 개발자에게 하지는 않습니다.

이 관계는 일방적으로 모든 위험과 부담은 오롯이 개발자가 감수할 뿐입니다.

# 위험 요인

- 프레임워크의 아키텍처는 깔끔하지 않은 경우가 많습니다.  프레임워크는 의존성 규칙을 위반하는 경향이 있어 업무 객체를 만들 때, 프레임워크 제작자는 자신의 코드를 상속할 것을 요구하는데 가장 안쪽 원과 결합하게 되면 문제가 발생할 수 있습니다.
- 프레임워크는 애플리케이션 초기 기능을 만드는 데는 도움이 되지만 제품이 성숙해지면서 프레임워크가 제공하는 기능과 틀을 벗어나게 되어 싸우게 됩니다.
- 프레임워크는 개발자에게 도움되지 않는 방향으로 진화할 수 있습니다.
- 새롭고 더 나은 프레임워크가 등장해서 갈아카고 싶을 수 있습니다.

# 해결책

```
프레임워크와 결혼하지 말라!
```

프레임워크를 사용할 수는 있지만 결합해서는 안되고 적당히 거리를 두어 프레임워크가 아키텍처의 바깥쪽 우너에 속하는 세부사항으로 취급해야 합니다.

프레임워크가 아키텍처의 안쪽 원으로 들어오지 못하게 해야합니다.

- 업무 객체를 만들 때 프레임워크가 자신의 기반 클래스로부터 파생하기를 요구한다면 프락시를 만들어 업무 규칙에 플러그인할 수 있는 컴포넌트를 프락시에 위치해야 합니다.
- 핵심 코드에 플러그인 할 수 있는 컴포넌트에 프레임워클르 통합해 의존성 규칙을 준수해야 합니다.
- 업무 객체보다는 메인 컴포넌트에서 스프링을 사용해 의존성을 주입하는게 좋습니다.
(메인은 아키텍처 내에서 사장 지저분한, 최저 수준의 컴포넌트로 스프링을 알아도 상관 없다.)

# 이제 선언합니다

표준 라이브러리와 관계는 피하기 힘들지만 선택적이어야 합니다.

# 결론

📌 가급적이면 프레임워크를 가능한 한 오랫동안 아키텍처 경계 너머에 두어야 합니다.
