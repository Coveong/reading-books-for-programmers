# 30장 데이터베이스는 세부사항이다

아키텍처 관점에서 데이터베이스는 엔티티가 아닙니다.

즉, 데이터베이스는 세부사항입니다.

애플리케이션 내부 데이터 구조는 시스템 아키텍처에게 중요하지만, 데이터베이스는 데이터 모델이 아닌 데이터에 접근할 방법을 제공하는 유틸리티입니다.

# 관계형 데이터베이스

관계형 데이터베이스는 데이터를 저장하고 접근하는데 탁월한 기술입니다.

하지만 결국은 그저 기술일 뿐입니다. 즉, 관계형 데이터베이스는 세부사항입니다.

관계형 테이블은 특정한 형식의 데이터에 접근하는 경우 편리하지만, 데이터르 ㄹ테이블에 행 단위로 배치한다는 자체는 아키텍처적으로 볼 때 전혀 중요하지 않습니다.

애플리케이션의 유스케이스는 이러한 방식을 알아서는 안되며 관여해서도 안 됩니다.

즉, 데이터가 테이블 구조를 가진다는 사실은 오직 아키텍처의 외부 우너에 위치한 최하위 수준의 유틸리티 함수만 알아야 합니다.

# 데이터베이스 시스템은 왜 이렇게 널리 사용되는가?

바로 디스크 때문입니다.

하지만 디스크는 느리다는 특성을 가지고 있습니다.

디스크 때문에 피해갈 수 없는 시간 지연이라는 점을 완하하기 위해 색인, 캐시, 쿼리 계획 최적화가 필요해졌고 이러한 작성중인 대상이 어떤 데이터인지를 알 수 있는 데이터를 표현하는 일종의 표준적인 방식도 필요해졌습니다.

즉, 데이터 접근 및 관리 시스템이 필요해졌습니다.

바로, `파일 시스템`과 `관계형 데이터베이스 관리 시스템 RDBMS`입니다.

**파일 시스템**

문서 기반으로 문서 전체를 자연스럽고 편리하게 저장하는 방법을 제공합니다.

문서를 이름 기준으로 저장 및 조회하며 내용을 기준으로 검색 시에는 접합하지 앟고 오래 걸리게 됩니다.

**관계형 데이터베이스 관리 시스템**

내용 기반으로 레코드를 자연스럽고 편리하게 찾는 방법을 제공합니다.

하지만 정형화되지 않은 문서를 저장하고 검색하는 데는 대체로 부접합합니다.

이 두 시스템은 데이터를 디스크에 체계화 해 가능한 효율적으로 데이터를 저장하고 검색할 수 있게 합니다.

하지만 데이터를 빠르게 조작할 수 있도록 결국에는 관련 있는 데이터를 RAM을 가져옵니다

# 디스크가 없다면 어떻게 될까?

데이터들을 연결 리스트, 크리, 해시 테이블, 스택, 규 혹은 여타 무수히 많은 데이터 구조로 체계화 하고 데이터에 접근할 때 포인터나 참조를 사용한다면 디스크가 모두 사라진다고 해도 RAM에 저장되어 있는 데이터를 체계화 가능합니다.

# 세부사항

데이터베이스는 그저 메커니즘에 불과하며, 데스크 표면과 RAM 사이에서 데이터를 옮길 떄 사용할 뿐입니다.

아키텍처 관점에서 본다면 회전식 자기 디스크에 데이터가 있기만 한다면, 데이터가 어떤 형태인지는 신경 써서는 안 됩니다. 디스크 자체가 존재한다는 사실조차도 인식해서는 안 됩니다.

# 하지만 성능은?

데이터 저장소의 측면에서 성능은 완전히 캡슐화하여 업무 규칙과는 분리할 수 있는 관심시입니다.

데이터 저장소에서 데이터를 빠르게 넣고 뺄 수 있어야 하짐나 이는 저수준의 관심사 입니다.

성능은 시스템의 전반적인 아키텍처와는 아무런 관련이 없습니다.

# 결론

📌  체계화된 데이터 구조와 데이터 모델은 아키텍처적으로 중요하다.

📌  데이터를 테이블 구조로 만들고 SQL로만 접근하도록 하는 관계형 데이터베이스 시스템은 데이터를 최전식 자기 디스크 표면에서 옮길 뿐인 기술과 시스템과 관련이 싶기에 데이터베이스는 세부사항이다.
