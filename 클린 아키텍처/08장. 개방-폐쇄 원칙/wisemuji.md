# 개방-폐쇄 원칙(OCP)


> 소프트웨어 개체는 확장에는 열려 있어야 하고 변경에는 닫혀 있어야 한다.

## 사고 실험

소프트웨어에서 변경되는 코드의 양이 가능한 최소화될수록 좋다.

어떻게? 서로 다른 목적으로 변경되는 요소를 적절하게 분리하고(SRP) 이들 요소 사이의 의존성을 체계화함으로써 (DIP) 변경량을 최소화할 수 있다.

소스 코드 의존성 조직화하기:
* 처리 과정을 클래스 단위로 분할하고
* 클래스는 컴포넌트 단위로 분리한다.
* 컴포넌트 관계는 단방향으로만 이루어진다.

아키텍트는 기능이 어떻게, 왜, 언제 발생하는지에 따라서 기능을 분리하고 분리한 기능을 컴포넌트의 계층구조로 조직화한다.

컴포넌트 계층구조를 조직화하면 저수준 컴포넌트에서 발생한 변경으로부터 고수준 컴포넌트를 보호할 수 있다.

## 방향성 제어

의존성을 역전시키기 위해 특정 인터페이스를 거치게 할 수 있다.

## 정보 은닉 

추이 종속성을 가지지 못하도록 특정 인터페이스를 활용할 수 있다.

# 결론

OCP는 시스템의 아키텍처를 떠받치는 원동력 중 하나다.

OCP의 목표:
* 시스템을 확장하기 쉽게
* 시스템이 너무 많은 영향을 받지 않도록

목표 달성을 위해:
* 시스템을 컴포넌트 단위로 분리
* 저수준 컴포넌트에서 발생한 변경으로부터 고수준 컴포넌트를 보호할 수 있는 형태의 의존성 계층구조가 만들어지도록
