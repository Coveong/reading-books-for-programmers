# 독립성

좋은 아키텍처는 다음을 지원해야 한다.

* 시스템의 유스케이스
* 시스템의 운영
* 시스템의 개발
* 시스템의 배포

## 유스케이스

시스템의 아키텍처는 시스템의 의도를 지원해야 한다.

하지만 아키텍처는 시스템의 행위에 그다지 큰 영향을 주지 않는다.

좋은 아키텍처의 의도는 시스템이 지닌 의도를 아키텍처 수준에서 알아볼 수 있게 만드는 것이다.

### 운영
시스템의 운영 지원 관점에서 볼 때 아키텍처는 더 실질적이며 덜 피상적인 역할을 맡는다.

### 개발

아키텍처는 개발환경을 지원하는데 있어 핵심적인 역할을 수행한다.

콘웨이의 법칙:

> 시스템을 설계하는 조직이라면 어디든지 그 조직의 의사소통 구조와 동일한 구조의 설계를 만들어 낼 것이다.

### 배포

아키텍처는 배포 용이성을 결정하는데 중요한 역할을 한다. (목표는 즉각적인 배포)

-> 이러기 위해선 시스템을 컴포넌트 단위로 적절하게 분할하고 격리시켜야 한다.

### 선택사항 열어놓기

현실에서는 균형을 맞추기 어렵기 때문에 좋은 아키텍처는 선택사항을 열어 둠으로써 향후 시스템에 변경이 필요할 때 어떤 방향으로든 쉽게 변경할 수 도록 한다.

## 계층, 유스케이스 결합 분리

시스템에서 서로 다른 이유로 변경되는 요소들의 결합을 분리하면 기존 요소에 지장을 주지 않고도 새로운 유스케이스를 계속해서 추가할 수 있게 된다.

### 배포 독립성

계층, 유스케이스 결합 분리가 이뤄지면 배포 측면에서도 고도의 유연성이 생긴다.

### 중복

중복은 대부분 나쁘다고 취급되지만 진짜 중복과 우발적 중복을 구분해야 한다.

중복으로 보이는 두 코드 영역이 각자의 경로로 발전한다면, 이 두 코드는 진짜 중복이 아니다.

### 결합 분리 모드

계층과 유스케이스의 결합을 분리하는 방법은 다양하다.

* 소스 수준 분리 모드: 코드 모듈 사이의 의존성 제어 가능
* 배포 수준 분리 모드: 배포 가능한 단위들 사이 의존성 제어 가능
* 서비스 수준 분리 모드: 의존하는 수준을 데이터 구조 단위까지 낮출 수 있음

어떤 모드를 사용하는게 가장 좋은지는 프로젝트 초기 단위에서는 알기 어렵다.

현 시점에 가장 인기있어 보이는 해결책은 단순히 서비스 수준에서의 분리를 기본 정책을 삼는 것이다. 다만 이게 항상 옳다고는 할 수 없다.

# 결론

시스템의 결합 분리 모드는 시간이 지나면서 바뀌기 쉬우며, 뛰어난 아키텍트라면 이러한 변경을 예측하여 큰 무리 없이 반영할 수 있도록 만들어야 한다.
