# 25장. 계층과 경계

시스템은 세 가지 컴포넌트(UI, 업무 규칙, 데이터베이스)로만 구성된다고 생각하기 쉽다. 몇몇 단순한 시스템에서는 이 정도로 충분하지만, 대다수의 시스템에서 컴포넌트의 개수는 이보다 훨씬 많다.

# 클린 아키텍처?

변경의 축에 의해 정의되는 아키텍처 경계가 잠재되어 있을 수도 있다. 

# 흐름 횡단하기

시스템이 복잡해질수록 컴포넌트 구조는 더 많은 흐름으로 분리된다.

# 결론

아키텍처 경계는 어디에나 존재한다. 

아키텍트로서 우리는 아키텍처 경계가 언제 필요한지를 신중하게 파악해내야 한다. 또한 우리는 이러한 경계를 제대로 구현하려면 비용이 많이 든다는 사실도 인지하고 있어야 한다.

추상화가 필요하리라고 미리 예측해서는 안 된다. (YAGNI)

오버 엔지니어링이 언더 엔지니어링보다 나쁠 때가 훨씬 많다.

미래를 내다보고 현명하게 추측해야한다. 어디에 아키텍처 경계를 둬야 할지, 완벽하게 구현할 경계는 무엇인지와 부분적으로 구현할 경계와 무시할 경계는 무엇인지를 결정해야만 한다.

1. 해당 구현을 구현하는 비용 가눔
2. 해당 구현을 무시할 때 감수할 비용 가늠
3. 결정된 사항을 자주 검토
4. 경계의 구현 비용이 무시해서 생기는 비용보다 적어지는 바로 그 변곡점에서 경계를 구현한다.