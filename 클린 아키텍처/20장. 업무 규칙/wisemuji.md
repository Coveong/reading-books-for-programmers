# 업무 규칙

업무 규칙은 컴퓨터상으로 구현했는지와 상관없이 사업적으로 수익을 얻거나 비용을 줄일 수 있어야 한다.

핵심 업무 규칙과 핵심 데이터는 객체로 만들어지기 좋은 후보가 되고, 이러한 유형의 객체를 엔티티라고 한다.

## 엔티티

엔티티는 컴퓨터 시스템 내부의 객체로서 핵심 업무 데이터를 기반으로 동작하는 일련의 조그만 핵심 업무 규칙을 구체화한다.

* 업무의 대표자로서 독립적으로 존재한다(데이터베이스, 서드파티 프레임워크 등에 대한 고려사항으로 오염되지 않는다)
* 어떤 시스템에서도 업무를 수행할 수 있다.
* 순전히 업무에 대한 것이며 이외의 것은 없다.

## 유스케이스

유스케이스는 자동화된 시스템이 사용되는 방법을 설명한다.

* 사용자가 제공해야 하는 입력, 사용자에게 보여줄 출력, 해당 출력을 생성하기 위한 처리 단계를 기술한다.
* 엔티티 내의 핵심 업무 규칙과는 반대로 애플리케이션에 특화된 업무 규칙을 설명한다.
* 엔티티 내부의 핵심 업무 규칙을 어떻게, 언제 호출할지를 명시하는 규칙을 담는다.
* 단, 사용자 인터페이스를 기술하지 않는다. (유스케이스만 봐서는 웹 어플리케이션인지, 콘솔 어플리케이션인지 구분하기가 불가능하다)
* **엔티티는 자신을 제어하는 유스케이스에 대해 아무것도 알지 못한다.**

### 왜 엔티티는 고수준이며, 유스케이스는 저수준일까?

유스케이스는 단일 앱에 특화되어 있으며 해당 시스템의 입력과 출력에 보다 가깝게 위치한다.

반대로 엔티티는 수많은 다양한 앱에서 사용될 수 있도록 일반화된 것이므로 각 시스템의 입력이나 출력에서 더 멀리 떨어져 있다.

유스케이스 >> 의존한다 >> 엔티티

## 요청 및 응답 모델

유스케이스는 단순한 요청 데이터 구조를 입력으로 받아들이고 단순한 응답 데이터 구조를 출력으로 반환한다.

이들 데이터 구조는 **어떤 것에도 의존하지 않는다.** -> 웹뿐만 아니라 그 어떤 사용자 인터페이스에도 종속되는게 아무것도 없다.

# 결론

업무 규칙은 소프트웨어 시스템의 핵심적인 기능으로 사용자 인터페이스나 데이터베이스와 같은 저수준의 관심사로 인해 오염되어서는 안된다.

시스템에서 가장 독립적이며 가장 많이 재사용할 수 있는 코드여야 한다.



