# 15장. 아키텍처란?

# 소프트웨어 시스템의 아키텍처란?

시스템을 구축했던 사람들이 만들어낸 시스템의 형태입니다.

- 시스템을 컴포넌트로 분할하는 방법
- 분할된 컴포넌트를 배치하는 방법
- 컴포넌트가 서로 의사 소통하는 방법

이 세가지 방법에 따라 시스템의 형태가 정해집니다.

이 형태는 아키텍처 안에 담긴 소프트웨어 시스템이 쉽게 개발, 배포, 운영, 유지보수되도록 만들어집니다.

```
이러한 일을 용이하게 만들기 위해서는 가능한 한 많은 선택지를, 
가능한 한 오래 남겨두는 전략을 따라야 한다.
```

🤔소프트웨어 아키텍처의 목표는 시스템의 정상 동작 아닌가요?

→ 시스템 아키텍터는 시스템의 동작 여부와는 거의 관련이 없습니다!😱 

아키텍처가 시스템이 제대로 동작하도록 지원하는데 아무런 역할을 하지 않는다는말이 아닌 이러한 역할이 본질적인 역할이 아니라는 것입니다.

아키텍처의 주된 목적은 시스템의 생명주기를 지원하는 것입니다.

- 시스템을 쉽게 이해
- 시스템을 쉽게 개발
- 시스템을 쉽게 유지보수
- 시스템을 쉽게 배포

→ 아키텍처의 궁극적인 목표는 시스템의 수명과 관련된 비용은 최소화하고, 프로그래머의 생산성은 최대화하는데 있습니다.

# 개발

시스템 아키텍처는 개발팀이 시스템을 쉽게 개발할 수 있도록 뒷받침해야합니다.

# 배포

소프트웨어 시스템이 사용될 수 있으려면 반드시 배포할 수 있어야 합니다.

배포 비용이 높을수록 시스템의 유용성은 떨어지게 됩니다.😥

소프트웨어 아티켁처는 시스템을 단 한 번에 쉬벡 배포할 수 있도록 만드는데 목표를 두어야 합니다.

- 더 적은 서비스를 사용
- 서비스 컴포넌트와 프로세스 수준의 컴포넌트를 하이브리드 형태로 융합
- 통합된 도구 사용

# 운영

아키텍처가 시스템 운영에 미치는 영향은 개발, 배포, 유지보수에 미치는 영향보다는 덜 극적입니다.

운영에서는 하드웨어를 투입해 개결하는 방법이 더 극적인 영향을 줄 수 있기 때문입니다.

좋은 소프트웨어 아티텍처는 시스템을 운영하는 데 필요한 요구도 알려줍니다. 

→ 시스템 아키텍처가 개발자에게 시스템의 운영 방식을 잘 드러내 줍니다.

# 유지보수

소프트웨어 시스템에서 비용이 가장 많이 발생하는 부분입니다.😱

우지보수에서 가장 큰 비용이 발생하는 곳은 탐사와 이로 인한 위험부담에 있습니다.

탐사란?

→ 기존 소프트웨어에 새로운 기능을 추가하거나 결함을 수정할 때 최적의 결정을 하는데 있어 발생하는 비용입니다.

주의를 기울여 신중하게 아키텍처를 만들면 유지보수 비용을 크게 줄일 수 있습니다.

→ 시스템을 컴포넌트로 분리하고, 안정된 인터페이스를 두어 서로 격리해야 합니다.

# 선택사항 열어두기

소프트웨어의 가치

- 행위적 가치
- 구조적 가치

소프트웨어를 부드럽게 만드는 이유로 이 두 가치 중 구조적 가치가 더 중요합니다.

하지만, 유연성은 시스템의 형태, 컴포넌트의 배치 ㅅ방식, 컴포넌트가 상호 연결되는 방식에 의존합니다.

소프트웨어 시스템의 주요한 두 가지 구성요소

- 정책
→ 모든 업무 규칙과 업무 절차를 구체화
- 세부사항
→ 정책과 소통할 때 필요한 요소(정책이 가진 행위에 영향 X)
(입출력 장치, 웹 시스템, 서버, 데이터베이스 등)

중요치 않은 세부사항을 열어둔다면 소프트웨어를 부드럽게 유지할 수 있습니다.

💪아키텍트의 목표

- 시스템에서 정책을 가장 핵심적인 요소로 식별
- 세부사항은 정책에 무관하게 만들 수 있는 형태의 시스템을 구축

이러한 목표를 통해 세부사항을 결정하는 일을 미루거나 연기할 수 있습니다.

예를 들어

- 개발 초기에는 데이터베이스 시스템을 선택할 필요가 없습니다.
- 개발 초기에는 웹 서버를 선택할 필요가 없습니다.
- 개발 초기에는 REST를 적용할 필요가 없습니다.
- 개발 초기에는 의존성 주입 프레임워크를 적용할 필요가 없습니다.

이렇게 결정을 미룰수록 더 많은 정보를 얻을 수 있거, 이를 기초로 제대로 된 결정을 내릴 수 있습니다.

🤔만약, 이미 그러한 결정이 내려져 있는 시스템이라면 어떻게 할까요?

뛰어난 아키텍츠라면 이러한 결정이 아직 내려지지 않은 것처럼 행동하며, 여전히 결정을 가능한 한 오랫동안 연기하거나 변경할 수 있는 형태로 시스템을 만듭니다.

```
좋은 아키텍트는 결정되지 않는 사항의 수를 최대화한다.
```

# 결론

📌좋은 아키텍트는 세부사항을 정책으로부터 신중하게 가려냅니다.

📌좋은 아키텍트는 정책이 세부사항과 결합되지 않도록 엄격하게 분리합니다.

정책은 세부사항과 관한 어떠한 지식도 갖지 못하고, 어떤 경우에도 세부사항에 의존하지 않게 됩니다.

📌좋은 아키텍트는 세부사항에 대한 결정을 가능한 오랫동안 미룰 수 있는 방향으로 정책을 설계합니다.