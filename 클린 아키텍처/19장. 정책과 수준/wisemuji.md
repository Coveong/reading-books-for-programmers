# 정책과 수준

좋은 아키텍처라면 
* 각 컴포넌트를 연결할 때 의존성의 방향이 컴포넌트의 수준을 기반으로 연결되도록,
* 즉, 저수준 컴포넌트가 고수준 컴포넌트에 의존하도록
설계되어야 한다.

## 수준

수준은 '입력과 출력까지의 거리'다.
시스템의 입력과 출력 모두로부터 멀리 위치할수록 정책의 수준은 높아진다. 입력과 출력을 다루는 정첵이라면 시스템에서 최하위 수준에 위치한다.

![image](https://user-images.githubusercontent.com/32327475/122687458-95107600-d251-11eb-8711-f32a29bc331f.png)

번역 컴포넌트는 이 시스템에서 최고 수준의 컴포넌트다. 

이때, 데이터 흐름과 소스 코드 의존성은 항상 같은 방향을 가리키지는 않는다.

```java
function encrypt() {
  while (true)
    writeChar(translate(readChar()));
}
```

고수준인 encrypt 함수가 저수준인 readChar와 writeChar 함수에 의존하고 있으므로 잘못된 설계다.









