# 취업

## 5개 이하의 public 메서드만 노출하세요

- 가장 우아하고, 유지보수 가능하고, 응집력이 높으면서 테스트하기도 용이한 객체는 작은 객체이다.
- public 메서드의 수를 5개 이하로 유지하자.
- 클래스가 작으면 메서드와 프로퍼티가 더 가까이 있을 수 있기에 응집도가 높아진다.

## 정적 메서드를 사용하지 말자

- 정적 메서드는 소프트웨어를 유지보수하기 어렵게 만든다.
- 조합이 불가능하다 == 합성(composition)이라는 아이디어와 대치된다.

### 객체 vs 컴퓨터 사고

순차적 사고 방식의 예(== 컴퓨터 사고): 
```java
int max(int a, int b) {
  if (a > b) {
    return a;
  }
  return b;
}
```
- 작은 소프트웨어에서는 이런 접근방법을 적용해도 문제가 없겠지만 규모가 커질수록 한계에 직면한다.
- 컴퓨터 사고에서는 명령의 실행 흐름을 제어할 책임이 개발자에게 있다.
- 객체지향적으로 생각하기에서는 개발자는 그저 누가 누구인지만 정의하고 객체들이 필요할 때 스스로 상호작용하도록 제어를 위임한다.
- 정적 메서드는 OOP와 거리가 멀고 객체지향 언어의 문법을 이용해서 절차적인 코드를 작성하도록 부추긴다.

### 선언형 스타일 vs 명령형 스타일

- 명령형 프로그래밍: 프로그램의 상태를 변경하는 문장을 사용해서 계산 방식을 서술한다.
- 선언형 프로그래밍: 제어 흐름을 서술하지 않고 계산 로직을 표현한다. (더 강력함)
  - 더 빠름: 실행 관점에서 더 최적화되기 때문에 더 빠르다.
  - 다형성: 객체 사이의 결합도를 낮출 수 있을 뿐만 아니라 이 작업을 우아하게 처리할 수도 있다. -> 유지보수하기 더 좋다.
  - 표현력: 실행 경로를 추적하지 않아도 되고 영어에 가깝다. (== human readable)
  - 응집도: 한 곳에 뭉쳐있기에 실수로라도 분리할 수 없다.

**객체가 적합한 곳에서는 객체를 사용하고 두 정수의 최댓값을 계산하는 기능처럼 작고 빠른 작업에는 정적 메서드를 사용해도 될까요?**
-> NOPE! 객체와 정적 메서드를 혼용해서는 안된다. 절대로 명령형 스타일을 사용해서는 안된다.
-> 유틸리티 클래스는 끔찍한 안티 패턴이다.

### 싱글톤 패턴

- 싱글톤이 유틸리티 클래스보다 낫다고는 하지만 여전히 안티패턴이며 논리/기술적인 관점에서 전역 변수 그 이상도 이하도 아니다.
- 클래스가 작업을 수행하는데 필요한 모든 요소들이 생성자에 제공되고 내부에 캡슐화되어야 한다. 예외는 없다.


## 인자의 값으로 NULL을 절대 허용하지 마세요

- 인자의 값으로 NULL을 허용하면 변수 == null 와 같은 비교문을 사용할 수 밖에 없다.
- 객체와 협력할 때마다 객체의 실체를 확인하는 것 말고는 NULL 인지 여부를 판단할 수 있는 방법이 없다.
- 그리고 NULL 여부를 체크함으로써 객체가 맡아야 하는 상당량의 책임을 빼앗게 된다.

> 우리는 외부에서 자신의 데이터를 다뤄주기만을 기대하고 스스로를 책임질 수 없는 멍청한 자료구조로 객체를 퇴화시키고 있는 것이다.

## 충성스러우면서 불변이거나, 아니면 상수이거나

- 많은 사람들이 불변에 반대하고 혼란스러워 하는 이유는 서로 다른 개념인 상태와 데이터에 관해 오해하고 있기 때문이다.

```java
class WebPage {
  private final URI uri;
  
  WebPage(URI path) {
    this.uri = path;
  }
  
  public String content() {
    // 웹테이지 컨텐츠를 읽는다
  }
}
```
- WebPage는 가변이 아닌 불변이다.
- 여기서 객체의 행동이나 메서드의 반환값은 중요하지 않다. 핵심은 객체가 살아있는 동안 상태가 변하지 않는다는 사실이다.
- 불변 != 상수(매번 동일한 데이터를 반환)

## 절대 getter와 setter를 사용하지 마세요

- 클래스는 struct와 달리 어떤 식으로든 멤버에게 접근하는 것, 멤버를 노출하는 것을 허용하지 않는다.
  - 자료구조는 투명하고 수동적이지만 객체는 불투명하고 능동적이다.
- 메서드가 실제로 어떤 식으로 동작하는지도 알 수 없고 캡슐화된 어떤 멤버가 이 작업에 개입하는지도 알 수 없다. -> OOP가 지향하는 가장 중요한 설계 원칙 중 하나
- 객체지향적이고 선언형 스타일을 유지하기 위해서는 데이터를 객체 안에 감추고 절대로 외부로 노출해서는 안된다.
  - 정확하게 무엇을 캡슐화하고 있고, 자료구조가 얼마나 복잡한지는 오직 객체만이 알고 있어야 한다.

## 부 ctor 밖에서는 new를 사용하지 마세요

- 부 생성자를 제외한 어떤 곳에서도 new를 사용할 수 없도록 금지시킨다면 객체들은 상호간에 충분히 분리되고 테스트 용이성과 유지보수성을 크게 향상시킬 수 있다.

## 인트로스펙션과 캐스팅을 피하세요

- 타입 인트로스펙션은 리플렉션이라는 더 포괄적인 용어로 불리는 여러 가지 기법들 중 하나다.
- instanceof 연산자를 사용하거나 클래스를 캐스팅하는 일은 안티패턴이므로 사용해서는 안된다.

