# 15장. 디자인 패턴과 프레임워크

- 디자인 패턴
    - 소프트웨어 설계에서 반복적으로 발생하는 문제에 대해 반복적으로 적용할 수 있는 해결 방법
    - **설계를 재사용**하는 것이 목적
    - 다양한 변경을 다루기 위해 반복적으로 재사용할 수 있는 설계의 묶음
    - 특정한 변경을 일관성 있게 다룰 수 있는 **협력 템플릿** 제공
- 프레임워크
    - **설계와 코드를 함께 재사용**하는 것이 목적
    - 애플리케이션의 아키텍처를 구현 코드의 형태로 제공
    - 각 애플리케이션 요구에 따라 적절하게 커스터마이징할 수 있는 확장 포인트 제공
    - 특정한 변경을 일관성 있게 다룰 수 있는 **확장 가능한 코드 템플릿** 제공

# 디자인 패턴과 설계 재사용

## 소프트웨어 패턴

- 패턴
    - 하나의 실무 컨텍스트에서 유용하게 사용해 왔고, 다른 실무 컨텍스트에서도 유용할 것이라고 예상되는 아이디어
    - 패턴의 영역은 소프트웨어와 직접적인 연관이 없을 수도 있다.
        - 조직 구성 방법, 스토리 카드, 백로그 관리 ...
- 패턴 언어
    - 연관된 패턴들의 집합

## 패턴 분류

- **아키텍처 패턴**
    - 디자인 패턴 상위에 위치
    - 미리 정의된 서브시스템들을 제공하고, 각 서브시스템들의 책임을 정의하며, 서브시스템들 사이의 관계를 조직화하는 규칙과 가이드라인 포함
- **디자인 패턴**
    - 특정 정황 내에서 일반적인 설계 문제를 해결하며, 협력하는 컴포넌트들 사이에서 반복적으로 발생하는 구조
- **이디엄**
    - 디자인 패턴 하위에 위치
    - 특정 프로그래밍 언어에만 국한된 하위 레벨 패턴으로, 주어진 언어의 기능을 사용해 컴포넌트, 혹은 컴포넌트 간의 특정 측면을 구현하는 방법을 서술

- **분석 패턴**
    - 도메인 내의 개념적인 문제를 해결하는데 초점
    - 업무 모델링 시에 발견되는 공통적인 구조를 표현하는 개념들의 집합

## 패턴과 책임-주도 설계

패턴을 따르면 특정한 상황에 적용할 수 있는 설계를 쉽고 빠르게 떠올릴 수 있다.

디자인 패턴의 구성요소는 클래스와 메서드가 아닌, **역할과 책임**이다.

## 캡슐화와 디자인 패턴

디자인 패턴이 어떤 변경을 캡슐화하는지를 이해하는 것이 중요하다. 그리고 각 디자인 패턴이 변경을 캡슐화하기 위해 어떤 방법을 사용하는지를 이해하는 것이 더 중요하다.

## 패턴은 출발점이다

디자인 패턴이 현재의 요구사항이나 적용 기술, 프레임워크에 적합하지 않다면 패턴을 그대로 따르지 말고 목적에 맞게 패턴을 수정하라. (패턴 만능주의 금지)

# 프레임워크와 코드 재사용

## 코드 재사용 대 설계 재사용

가장 이상적인 형태의 재사용 방법은 설계 재사용과 코드 재사용을 적절한 수준으로 조합하는 것이다.

🧐 그렇다면 설계를 재사용하면서도 유사한 코드를 반복적으로 구현하는 문제를 피하는 방법은?

🤓 프레임워크!

프레임워크는 코드를 재사용함으로써 설계 아이디어를 재사용한다.

## 상위 정책과 하위 정책으로 패키지 분리하기

상위 정책(추상화 해놓은 것)이 세부 사항보다 더 양한 상황에서 재사용될 수 있어야 한다.

→ 변하는 것(구체적인 세부 사항)과 변하지 않는 것(상위 정책에 속하는 역할들의 협력 구조)을 배포단위로 서로 분리하자!

## 제어 역전 원리

- 의존성 역전 원리
    - 전통적인 설계 방법과 객체지향을 구분하는 **가장 핵심적인 원리**
    - 프레임워크의 가장 기본적인 설계 매커니즘
    - 의존성의 방향뿐만 아니라 제어의 흐름 주체 역시 역전 시킨다.