# 책임 할당하기

GRASP 패턴을 살펴보고 책임 할당의 어려움을 개선시켜보자

## 책임 주도 설계를 향해

데이터 중심 설계에서 책임 중심의 설계로 전환하는 방법

### 데이터보다 행동을 먼저 결정하라

객체는 협력에 참여하기 위해 존재하며 협력 안에서 수행하는 책임이 곧 객체의 존재 가치를 증명한다

### 협력이라는 문맥 안에서 책임을 결정하라

메시지를 결정한 후에 객체를 선택해야 협력에 적합한 책임을 수확할 수 있다. 객체가 메시지를 선택하는 것이 아닌 메시지가 객체를 선택하게 해야 한다.

(메시지가 클라이언트의 의도를 표현한다)

### 책임 주도 설계

* 시스템이 사용자에게 제공해야 하는 기능인 시스템 책임을 파악한다.
* 시스템 책임을 더 작은 책임으로 분할한다.
* 분할된 책임을 수행할 수 있는 적절한 객체 또는 역할을 찾아 책임을 할당한다.
* 객체가 책임을 수행하는 도중 다른 객체의 도움이 필요한 경우 이를 책임질 적절한 객체 또는 역할을 찾는다.
* 해당 객체 또는 역할에게 책임을 할당함으로써 두 객체가 협력하게 한다.

## 책임 할당을 위한 GRASP 패턴

GRASP 패턴: 객체에게 책임을 할당할 때 지침으로 삼을 수 있는 원칙들의 집합

### 도메인 개념에서 출발하기

도메인 개념들을 책임 할당의 대상으로 사용하면 코드에 도메인의 모습을 투영하기가 좀 더 수월해진다.

단, 도메인 개념을 정리하는 데에 너무 많은 시간을 들이지 말고 빠르게 설계와 구현을 진행하라.

### 정보 전문가에게 책임을 할당하라

정보 전문가 패턴 - 책임을 수행할 정보를 알고 있는 객체에게 책임을 할당하는 것

1. 메시지를 전송할 객체는 무엇을 원하는가?
2. 메시지를 수신할 적합한 객체는 누구인가?

### 높은 응집도와 낮은 결합도

낮은 결합도 패턴: 어떻게 하면 의존성을 낮추고 변화의 영향을 줄이며 재사용성을 증가시킬 수 있을까? 설계의 전체적인 결합도가 낮게 유지되도록 책임을 할당하라

높은 응집도 패턴: 어떻게 복잡성을 관리할 수 있는 수준으로 유지할 것인가? 높은 응집도를 유지할 수 있게 책임을 할당하라

### 창조자에게 객체 생성 책임을 할당하라

창조자 패턴: 객체 A를 생성해야 할 때 어떤 객체에게 객체 생성 패턴을 할당해야 하는가? 아래 조건을 최대한 많이 만족하는 B에게 객체 생성 책임을 할당하라

* B가 A 객체를 포함하거나 참조한다
* B가 A 객체를 기록한다
* B가 A 객체를 긴밀하게 사용한다
* B가 A 객체를 초기화하는데 필요한 데이터를 가지고 있다
