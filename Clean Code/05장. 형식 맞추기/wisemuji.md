# 형식 맞추기

프로그래머라면 형식을 깔끔하게 맞춰 코드를 짜야 한다. 코드 형식을 맞추기 위한 간단한 규칙을 정하고 그 규칙을 착실히 따라야 한다. 
팀으로 일한다면 팀이 합의해 규칙을 정하고 모두가 그 규칙을 따라야 하고 필요하다면 규칙을 자동으로 적용하는 도구를 활용한다.

## 형식을 맞추는 목적

코드 형식은 의사소통의 일환이다. 당장 구현한 기능이 다음 버전에서 바뀔 가능성은 높지만 그 코드의 가독성은 앞으로 바뀔 코드의 품질에 지대한 영향을 미친다. 원래의 코드는 사라지더라도 개발자의 스타일과 규율은 사라지지 않는다.

# 원할한 소통을 장려하는 코드 형식

## 적절한 행 길이를 유지한다
500줄을 넘지 않고 200줄 정도인 파일로도 커다란 시스템을 구축할 수 있다. 일반적으로 큰 파일보다 작은 파일이 이해하기 쉽다.

### 신문 기사처럼 작성한다
* 이름은 간단하면서도 설명이 가능하게
* 소스 첫 부분은 고차원 개념과 알고리즘 설명
* 아래로 내려갈수록 의도를 세세하게 묘사
  
### 개념은 빈 행으로 분리한다
빈 행은 새로운 개념을 시작한다는 시각적 단서다. 코드를 읽어 내려가다 보면 빈 행 바로 다음 줄에 눈길이 멈춘다.

```java
package ___.___.___

import java.util.regex.*;
import ___
...

public class BoldWidget {
...
}
```

### 세로 밀집도
서로 밀집된 코드 행은 세로로 가까이 놓여야 한다.

### 수직 거리
연관성이 깊은 두 개념이 멀리 떨어져 있으면 코드를 읽는 사람이 소스 파일과 클래스를 여기저기 뒤지게 된다.
* 변수 선언: 변수는 사용하는 위치에 최대한 가까이 선언한다.
* 인스턴스 변수: 반면 인스턴스 변수는 클래스 맨 처음에 선언한다. (논쟁의 여지가 있음)
* 종속 함수: 한 함수가 다른 함수를 호출한다면 두 함수는 세로로 가까이 배치한다. 가능하다면 호출하는 함수를 호출되는 함수보다 먼저 배치한다.
* 개념적 유사성: 친화도가 높을수록 코드를 가까이 배치한다.

### 세로 순서
일반적으로 함수 호출 종속성은 아래 방향으로 유지한다.

## 가로 형식 맞추기
짧은 행이 바람직하다.

### 가로 공백과 밀집도
다음 코드에서는 할당 연산자를 강조하려고 앞뒤에 공백을 줬다. 공백을 넣으면 왼쪽 오른쪽 요소가 확실히 나뉜다.
반면, 함수 이름과 이어지는 괄호 사이에는 함수와 인수가 서로 밀접하기 때문에 공백을 넣지 않았다.
```java
private void measureLine(String line) {
  lineCount++;
  int lineSize = line.length():
  totalChars += lineSize;
  lineWidthHistogram.addLine(lineSize, lineCount);
  recordWidestLine(lineSize)
}
```

### 가로 정렬
선언문과 할당문을 별도로 정렬하지 않으면 오히려 중대한 결함을 찾기 쉽다.

### 들여쓰기
들여쓰기한 파일은 구조가 한눈에 들어온다. 변수, 생성자 함수, 접근자 함수, 메서드가 금방 보인다.

### 가짜 범위

## 팀 규칙
프로그래머라면 각자 선호하는 규칙이 있겠지만 팀에 속한다면 팀 규칙을 가장 선호해야 한다.
