# 03. 타입과 추상화

# 추상화를 통한 복잡성 극복

### 추상화란?

불필요한 부분을 도려내가며 사물의 놀라운 본질을 드러나게 하는 과정

- 추상화의 두 가지 차원
1. 구체적인 사물들 간의 공통점은 취하고 차이점은 버리는 일반화를 통해, 단순하게 만든다.
2. 중요한 부분을 강조하기 위해 불필요한 세부 사항을 제거함으로써 단순하게 만든다.

### 추상화의 목적

불필요한 부분을 무시함으로써 현실에 존재하는 **복잡성을 극복하고 단순하게 만듬**

# 객체지향과 추상화

## 그룹으로 나누어 단순화하기

- 병사 트럼프 카드
- 시계 토끼
- 왕 트럼프 카드
- 왕비 트럼프 카드
- 신하 트럼프 카드

에 추상화를 적용한다면?

- 트럼프
    - 병사
    - 왕
    - 왕비
    - 신하
- 토끼
    - 시계 토끼

훨씬 간단해지고 단순해졌다.

### 개념

- 개념이란?

일반적으로 우리가 인식하고 있는 다양한 사물이나 객체에 적용할 수 있는 아이디어나 관념

위에 예시에는 트럼프, 토끼라는 개념으로 각각 분리했다.

- 개념을 사용하는 이유

객체를 여러 그릇으로 **분류**할 수 있고, 공통적을 기반으로 객체를 분리할 수 있기 때문이다.

- 개념을 중심으로 바라본 객체

> **객체**란 **특정한 개념**을 적용할 수 있는 구체적인 사물이다.
개념이 객체에 적용되었을 때, 객체를 개념의 **인스턴스**라고 한다.


→ 복잡한 객체들은 단지 몇 가지 개념의 **인스턴스**일뿐이다.

### 개념의 세 가지 관점

- 심볼 : 개념을 가리키는 간략한 이름이나 명칭
    - '트럼프'
- 내연 : 개념의 완전한 정의
    - 몸이 납작하고 두 손과 두 발이 네모난 몸 모서리에 달려있다.
- 외연 : 개념에 속하는 모든 객체의 집합
    - 병사 트럼프, 왕 트럼프, 왕비 트럼프, 신하 트럼프

### 객체를 분류하기 위한 틀

> **분류**란 객체에 특정한 개념을 적용하는 작업이다.
객체에 특정한 개념을 적용하기로 결심했을 때 우리는 그 객체를 특정한 집합의 멤버로 분류하고 있는 것이다.


### 분류는 추상화를 하기 위한 도구다

추상화의 두 가지 차원을 다시 봐보자!

1. 여러 트럼프를의 개별적인 차이점을 무시하고 '트럼프'라고 묶음

    → 개별 객체의 차이점은 무시하고, 공통점을 취함 (일반화)

2. 다른 트럼프의 공통점은 무시함

    → 불필요한 세부사항을 제거함

wow

개념은 객체들의 복잡성을 극복하기 위한 **추상화 도구**!

# 타입

## 타입은 개념이다

개념 == 타입

근데 ... 컴퓨터적으로 들어가면 좀 어려워짐 ;;

## 데이터 타입

1. 타입은 데이터가 어떻게 사용되느냐에 관한 것이다.
2. 타입에 속한 데이터를 메모리에 어떻게 표현하는지는 외부로부터 철저하게 감춰진다.

> **데이터 타입**은 메모리 안에 저장된 데이터의 종류를 분류하는 사용하는 메모리 집합에 관한 메타데이터이다.
데이터에 대한 분류는 암시적으로 어떤 종류의 연산이 해당 데이터에 대해 수행될 수 있는지를 결정한다.


## 객체와 타입

1. 어떤 객체가 어떤 타입에 속하는지를 결정하는 것은 객체가 수행하는 행동이다.
2. 객체의 내부저긴 표현은 외부로부터 철저하게 감춰진다.

## 행동이 우선이다

동일한 책임을 수행하는 객체 → **동일한 타입**

즉, 동일한 데이터를 가지고 있더라도, 다른 행동(책임)을 한다면 다른 타입이다.

객체의 타입을 결정하는 것 → **객체의 행동**

동일한 타입에 속한 객체는 내부의 데이터 표현 방식이 다르더라도 동일한 메시지를 수신하고 이를 처리할 수 있다. → **다형성**

- 다형성

동일한 요청에 대해 서로 다른 방식으로 응답할 수 있는 능력

- 캡슐화

외부에 행동만을 제공하고 데이터는 행동 뒤로 감추는 것

- 앨리스가 '트럼프'로 분류한 이유

트럼프의 행동 양식 (ex. 강한 바람에 뒤집어진다, 종이 같은 몸이 펄럭거린다.)이 같기 때문이다.

**객체를 결정하는 것은 행동이다. 데이터는 행동을 따를 뿐이다.**

# 타입의 계층

## 트럼프의 계층

- 병사 트럼프 카드
- 왕 트럼프 카드
- 왕비 트럼프 카드
- 신하 트럼프 카드

이 네 객체들은 '트럼프'가 아닌 '트럼프 인간'이다.

'트럼프'는 걷지 못하지만, '트럼프 인간'은 걸을 수 있다.

즉, 트럼프 인간은 동시에 트럼프가 될 수도 있다.

< 트럼프 <트럼프 인간>>

→ **일반화/특수화**라고 한다.

트럼프 인간은 트럼프의 **특수화**된 상태이다.

## 일반화/특수화 관계

- 일반적인 타입
    - 특수한 타입이 가진 모든 행동 중에서 일부 행동만을 가지는 타입
- 특수한 타입
    - 일반적인 타입이 가지는 모든 행동 + 자신만의 행동을 가지는 타입

## 슈퍼타입과 서브타입

일반적인 타입 = **슈퍼타입**

특수한 타입 = **서브타입**

서브타입은 슈퍼타입을 대체할 수 있어야한다.

<트럼프>

- 납작 업드릴 수 있다.
- 뒤집어질 수 있다

^

|

<트럼프 인간>

- 걸을 수 있다.

## 일반화는 추상화를 위한 도구다

앨리스는 트럼프 인간이 아닌, 트럼프로 바라보았다.

불필요한 트럼프 인간의 특성을 제거한 것이다.

# 정적 모델

## 타입의 목적

인간의 인지 능력만으로는 시간에 따라 동적으로 변하는 객체의 복잡성을 극복하기 어렵다.

타입을 사용하면 동적으로 변하는 객체의 상태를 정적인 관점에서 표현할 수 있다. (p. 102)

→ 결국 타입은 **추상화**다.

## 동적 모델과 정적 모델

- 동적 모델
    - 실제 객체가 살아 움직이는 동안 어떻게 변하고 어떻게 행동하는지를 포착하는 것
- 타입 모델(=정적 모델)
    - 객체가 가질 수 있는 모든 행동을 시간에 독립적으로 표현하는 것
    - 클래스로 구현된다.

## 클래스

타입을 구현할 수 있는 여러 매커니즘 중 하나!

타입 ≠ 클래스
