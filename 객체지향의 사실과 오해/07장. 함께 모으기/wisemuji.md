# 함께 모으기

객체지향 설계 안에 존재하는 세 가지 관점
* 개념 관점: 도메인 안에 존재하는 개념과 개념들 사이의 관계.
* 명세 관점: 객체가 협력을 위해 무앗을 할 수 있는가에 초점을 맞춤. 인터페이스와 구현의 분리는 훌륭한 객체지향 설계의 기본적인 원칙이다.
* 구현 관점: 객체들이 책임을 수행하는데에 필요한 동작하는 코드를 작성하는 것
클래스는 이 세 가지 관점을 모두 수용할 수 있도록 개념, 인터페이스, 구현을 함께 드러내야 한다.

협력 안에서 메시지를 선택하고 메시지를 수신할 객체를 선택하는 것은 객체의 명세 관점에서 객체를 바라보는 것

## 커피 주문 예제

커피 전문점에서 커피를 주문하는 과정을 객체의 협력 관계로 구현

### 객체 정의

예를 들어) 커피 전문점이라는 도메인은 손님 객체, 메뉴 항목 객체, 메뉴판 객체, 바리스타 객체, 커피 객체로 구성된 작은 세상으로 표현할 수 있다

### 객체간의 관계 정의

(관계 표현 사진 생략)

* 포함 관계 또는 합성 관계: 마름모로 표현
* 연관 관계: 단순한 선으로 표현

### 협력 찾기

객체를 설계할 때는 메시지를 먼저 선택하고 그 다음에 메시지를 수신하기에 적절한 객체를 찾아야 한다.

메시지가 객체를 선택하고 선택된 객체는 메시지를 자신의 인터페이스로 받아들인다.

(객체 협력 사진 생략)

화살표를 통해 메시지를 담아 전달할 부가적인 정보인 인자를 표현한다.

### 인터페이스 정리하기

객체들을 포괄하는 타입을 정의한 후 식별된 오퍼레이션을 타입의 인터페이스에 추가해야 한다.

### 구현하기

오퍼레이션을 수행하는 방법을 메서드로 표현한다. 구현 도중에 객체의 인터페이스가 변경될 가능성이 있다.

(클래스 다이어그램 사진 생략)

## 코드와 세 가지 관점

동일한 코드를 바라보는 서로 다른 관점이다. 훌륭한 객체지향 프로그래머는 하나의 클래스 안에 세 가지 관점을 모두 포함하면서도 각 관점에 대응되는 요소를 명확하고 깔끔하게 드러낼 수 있다. 

### 개념 관점

도메인을 구성하는 중요한 개념과 관계를 반영하는 클래스. 

* 클래스가 도메인 개념의 특성을 최대한 수용하면 변경을 관리하기 쉽고 유지보수성을 향상시킬 수 있다.

### 명세 관점

클래스의 인터페이스.

* 공용 인터페이스는 외부에서 객체에 접근할 수 있는 유일한 부분
* 객체의 인터페이스는 수정하기 어렵고 변화에 안정적으로 만들기 위해서는 구현과 관련된 세부 사항이 드러나면 안된다.

### 구현 관점

클래스의 내부 구현

* 클래스의 매세드와 속성은 공용 인터페이스가 아니라 구현에 속하고 철저하게 클래스 내부로 캡슐화되어야 한다.

### 도메인을 참조하는 이유

도메인 개념 안에서 적절한 객체를 선택하는 것은 도메인에 대한 지식을 기반으로 코드의 구조와 의미를 쉽게 유추할 수 있게 한다. (시스템의 유지보수성 향상)

### 구현과 인터페이스를 분리하라

클래스를 봤을 때 클래스의 명세 관점과 구현 관점을 나눠서 볼 줄 알아야 한다. 

명세 관점은 클래스의 안정적인 측면, 구현 관점은 클래스의 불안정한 측면을 드러내야 하며 인터페이스가 구현 세부 사항을 노출하기 시작하면 아주 작은 변동에도 전체 협력이 요동치는 결과를 낳을 수 있다.

결론적으로 세 가지 관점 모두에서 클래스를 바라볼 수 있으려면 훌륭한 설계가 뒷받침되어야 한다.
