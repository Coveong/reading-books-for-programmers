# 이상한 나라의 객체

엘리자베스 스펠크와 필립 켈만이 진행한 실험 결과: 

사람은 태어난 지 얼마 안 된 시기부터 뚜렷한 경계를 가지고 함께 행동하는 물체를 하나의 개념으로 인지한다. 아기들 역시 뚜렷한 경계를 가진 객체들의 집합으로 세상을 바라본다.

## 객체지향과 인지 능력

객체지향은 세상을 자율적이고 독립적인 객체들로 분해할 수 있는 인간의 기본적인 인지 능력에 기반을 두고 있다. 객체란 인간이 분명하게 인지하고 구별할 수 있는 물리적인 또는 개념적인 경계를 지닌 어떤 것이다.

객체지향 패러다임의 목적은 현실 세계를 기반으로 새로운 세계를 창조하는 것이므로 현실 세계에 존재하는 객체와는 전혀 다른 모습을 보이곤 한다.

## 객체, 그리고 이상한 나라

이상한 나라의 앨리스의 주인공 앨리스를 예시로 들어보자.

> 앨리스는 버섯의 한쪽을 먹어 몸을 키우다가 몸이 너무 커지면 반대 쪽을 먹어 몸을 작게 줄였다.
(중략)
커졌다 작아지고, 작아졌다 커지기를 반복하던 앨리스는 마침내 몸의 크기를 원래 상태로 돌릴 수 있었다.

여기서 나오는 앨리스의 특징은 객체의 특징과 같다:
* 객체는 상태를 가지며 상태는 변경 가능하다.
* 객체의 상태를 변경시키는 것은 객체의 행동이다.
  * 행동의 결과는 상태에 의존적이며 상태를 이용해 서술할 수 있다.
  * 행동의 순서가 결과에 영향을 미친다.
* 객체는 어떤 상태에 있더라도 유일하게 식별 가능하다.

## 객체, 그리고 소프트웨어 나라

> 객체란 식별 가능한 객체 또는 사물이다. 객체는 자동차처럼 만질 수 있는 구체적인 사물일 수도 있고, 시간처럼 추상적인 개념일 수도 있다.
객체는 구별 가능한 식별자, 특징적인 행동, 변경 가능한 상태를 가진다.
소프트웨어 안에서 객체는 저장된 상태와 실행 가능한 코드를 통해 구현된다.

## 상태

특정 시점에 객체가 가지고 있는 정보의 집합으로 객체의 구조적 특징을 표현한다. 

행동의 과정과 결과를 단순하게 기술하기 위한 개념으로 과거에 얽매이지 않고 현재를 기반으로 객체의 행동 방식을 이해할 수 있다.

[객체의 상태 구성]
* 프로퍼티: 객체의 상태를 구성하는 모든 특징. 일반적으로 정적이다.
* 프로퍼티 값: 시간의 흐름에 따라 변경되기 때문에 동적이다.
  
[객체의 프로퍼티 구분]
* 링크: 객체와 객체 사이의 의미 있는 연결. 링크가 있어야만 요청을 보내고 받을 수 있다.
* 속성: 객체를 구성하는 단순한 값.

## 행동

외부의 요청 또는 수신된 메시지에 응답하기 위해 동작하고 반응하는 활동. 

행동의 결과로 객체는 자신의 상태를 전달하거나 다른 객체에게 메시지를 전달할 수 있다. 행동은 외부에 가시적이어야 한다.

[상태와 행동 사이의 관계]
* 객체의 행동은 상태에 영향을 받는다.
* 객체의 행동은 상태를 변경시킨다.

행동은 다음 두 side effect를 명확하게 서술해야 한다.
* 객체 자신의 상태 변경
* 행동 내에서 협력하는 다른 객체에 대한 메시지 전송

### 상태, 행동의 캡슐화

상태를 잘 정의된 행동 뒤로 캡슐화하는 것은 객체의 자율성을 높이고 협력을 단순하고 유연하게 만든다.

## 식별자

어떤 객체를 다른 객체와 구분하는데 사용하는 객체의 프로퍼티.

값은 식별자를 가지지 않기 때문에 상태를 이용한 동등성 검사를 통해 두 인스턴스를 비교해야 한다. 객체는 상태가 변경될 수 있기 때문에 식별자를 이용한 동일성 검사를 통해 두 인스턴스를 비교할 수 있다.

## 행동이 상태를 결정한다

상태를 먼저 결정하고 행동을 나중에 결정하면 설계에 나쁜 영향을 준다.
1. 캡슐화가 저해된다.
1. 객체를 협력자가 아닌 고립된 섬으로 만든다.
1. 객체의 재사용성이 저하된다.

객체는 다른 객체와 협력하기 위해 존재하고 객체가 협력에 참여하는 유일한 방법은 행동이므로 객체가 적합한지를 결정하는 것은 그 객체의 상태가 아니라 행동이다.

참고: 책임-주도 설계(RDD)

## 은유와 객체

소프트웨어 객체는 현실 세계와 전혀 다르다. 모방과 추상화라는 개념만으로는 표현하기 부족하다.

의인화: 현실에서 가져온 객체들은 현실 속에서 할 수 없는 추가적인 능력을 보유하게 된다.
은유: 실제로는 적용되지 않는 개념을 이용해 다른 개념을 서술하는 개념이다.
