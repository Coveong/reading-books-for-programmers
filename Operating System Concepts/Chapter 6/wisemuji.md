- https://www.inflearn.com/course/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C-%EA%B3%B5%EB%A3%A1%EC%B1%85-%EC%A0%84%EA%B3%B5%EA%B0%95%EC%9D%98#curriculum
- 주니온 박사님 강의 중 Chapter 6에 대한 정리

# Chapter 6. Synchronization Tools 

## 여러 프로세스(또는 스레드)에서 공유하는 데이터의 무결성 
- 동시 실행(Concurrent)
  - 프로세스는 명령 스트림의 모든 지점에서 interrupt될 수 있다.
  - 프로세싱 코어가 다른 프로세스에 할당될 수 있다. 
- 병렬 실행(Parallel)
  - 두 개 이상의 명령 스트림(다른 프로세스를 나타냄)
  - 별도의 프로세싱 코어에서 동시에 실행된다.

## Race Condition

여러 프로세스(또는 스레드)가 동시에 동일한(또는 공유된) 데이터에 액세스하고 조작하면 실행 결과는 매번 달라질 수 있다.

### 해결책
- 한 번에 하나의 프로세스만 공유 데이터를 조작할 수 있어야 한다.
- 그를 보장하기 위해서는 프로세스가 어떤 방식으로든 동기화되어야 한다. (synchronize)

## 임계 영역 문제
- 한 프로세스가 크리티컬 섹션에서 실행되는 경우, 다른 프로세스는 해당 섹션에서 실행할 수 없게 만들자.
- 데이터를 협력적으로 공유하기 위해 프로세스의 작업을 동기화한다.

### 섹션 분리
- 엔트리 섹션: 크리티컬 섹션에 들어갈 수 있는 권한을 요청할 수 있다.
- 엔트리 섹션은 엔트리 섹션을 따른다.
- 종료 섹션은 임계 섹션을 따른다.
- 나머지 섹션

### 해결책을 위한 요구사항
- Mutual Exclusion
- Progress: (avoid deadlock)
- Bounded Waiting: (avoid starvation)

### 싱글 코어 환경에서의 솔루션
- 공유 변수가 수정되는 동안 인터럽트가 발생하지 않도록 방지한다.
- 다른 명령이 실행되지 않으므로 공유 데이터를 예기치 않게 수정할 수 없다.
- 하지만 멀티프로세서 환경에서는 불가능하다.

## 두 가지 일반적인 접근 방식
- 비선점 커널
  - 커널 모드 프로세스는 커널 모드를 종료하거나, 차단하거나, 자발적으로 CPU를 산출할 때까지 실행된다.
  - 기본적으로 커널 데이터 구조의 race condition에서 자유롭다.
- 선점 커널을 사용하면 프로세스가 커널 모드에서 실행 중일 때 선점될 수 있다.
  - 본질적으로 설계하기가 어렵지만 반응형이다.
