# 1장. 단위테스트의 목표


### 1.1 단위 테스트 현황

단위테스트를 작성해야 하는가? 에서 좋은 단위 테스트를 작성하는 것은 어떤 의미인가? 로 바뀌었다.


### 1.2 단위 테스트의 목표

단위 테스트의 목표는 소프트웨어 프로젝트의 **지속 가능한 성장**을 가능하게 하는 것이다.

더 나은 설계는 좋은 부수 효과이다.

테스트가 없는 일반 프로젝트는 엔트로피가 발생하는데, 무언가를 변경할때마다 더 증가한다.

지속적인 정리와 적절한 관리가 없다면 복잡하고 무질서 해진다.

테스트는..

- 안전망 역할을 하며 회귀에 대한 보험을 제공하는 도구
- 기존 기능이 잘 작동하는 확인하는데 도움된다.


단점

- 테스트 초반에 노력이 필요하다.


> 지속성과 확장성이 핵심이며 ,이를 통해 장기적으로 개발 속도를 유지할수 있다.


테스트의 품질을 올리는 방법

- 기반 코드를 리팩터링할 때 테스트도 리팩터링하라
- 각 코드 변경 시 테스트를 실행하라
- 테스트가 잘못된 경고를 발생시킬 경우 처리하라
- 기반 코드가 어떻게 동작하는지 이해하려고 할 떄는 테스트를 읽는데 시간 투자하라.
- 

## 1.3 테스트 스위트 품질 측정을 위한 커버리지 지표


> 커버리지 지표는 테스트 스위트가 소스 코드를  얼마나 실행하는지를 백분율로 나타낸다


```
코드 커버리지(테스트 커버리지) = 실행 코드 라인 수 / 전체 라인 수
```

```
분기 커버리지 = 통과 분기 / 전체 분기 수
```


커버리지 지표에 관한 문제점

- 테스트 대상 시스템의 모든 가능한 결과를 검증한다고 보장할 수 없다
- 외부 라이브러리의 코드 경로를 고려할 수 있는 커버리지 지표는 없다


## 1.4 무엇이 성공적인 테스트 스위트를 만드는가?


성공적인 테스트 스위트 특성

- 개발 주기에 통합돼 있다.
  - 코드가 변경될때마다 끊임없이 작은 것이라도 실행
- 코드베이스에서 가장 중요한 부분만을 대상으로 한다.
  - 중요한 부분과 중요하지 않은 부분을 분리해야 집중할수 있다.
- 최소한의 유지비로 최대의 가치를 끌어낸다.
  - 가치있는 테스트 식별, 작성


